!function(I,g){if("object"==typeof exports&&"object"==typeof module)module.exports=g();else if("function"==typeof define&&define.amd)define([],g);else{var C=g();for(var n in C)("object"==typeof exports?exports:I)[n]=C[n]}}(this,function(){return function(I){function g(n){if(C[n])return C[n].exports;var c=C[n]={exports:{},id:n,loaded:!1};return I[n].call(c.exports,c,c.exports,g),c.loaded=!0,c.exports}var C={};return g.m=I,g.c=C,g.p="",g(0)}([function(module,exports,__webpack_require__){eval('"use strict";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar GamePad_1 = __webpack_require__(1);\r\nvar UnitMap_1 = __webpack_require__(13);\r\nvar CommonUtil_1 = __webpack_require__(14);\r\nvar EventEmitter_1 = __webpack_require__(12);\r\nvar GameStatus;\r\n(function (GameStatus) {\r\n    GameStatus[GameStatus["INITIALIZED"] = 0] = "INITIALIZED";\r\n    GameStatus[GameStatus["READY"] = 1] = "READY";\r\n    GameStatus[GameStatus["STARTING"] = 2] = "STARTING";\r\n    GameStatus[GameStatus["PAUSED"] = 3] = "PAUSED";\r\n    GameStatus[GameStatus["END"] = 4] = "END";\r\n})(GameStatus || (GameStatus = {}));\r\nvar Game = (function (_super) {\r\n    __extends(Game, _super);\r\n    function Game(_canvas, _speed, _columns, _rows, _gap) {\r\n        if (_speed === void 0) { _speed = 100; }\r\n        if (_columns === void 0) { _columns = 12; }\r\n        if (_rows === void 0) { _rows = 20; }\r\n        if (_gap === void 0) { _gap = 2; }\r\n        _super.call(this);\r\n        this._canvas = _canvas;\r\n        this._speed = _speed;\r\n        this._columns = _columns;\r\n        this._rows = _rows;\r\n        this._gap = _gap;\r\n        this._record = 0;\r\n        this._status = GameStatus.INITIALIZED;\r\n        this.init();\r\n    }\r\n    Object.defineProperty(Game.prototype, "speed", {\r\n        get: function () {\r\n            return this._speed;\r\n        },\r\n        set: function (value) {\r\n            this._speed = value;\r\n            this._gamePad.speed = this._speed;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Game.prototype, "record", {\r\n        get: function () {\r\n            return this._record;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Game.prototype.init = function () {\r\n        var _this = this;\r\n        var canvasWidth = CommonUtil_1.CommonUtil.removeUnit(this._canvas.getAttribute(\'width\'), "px");\r\n        var canvasHeight = CommonUtil_1.CommonUtil.removeUnit(this._canvas.getAttribute(\'height\'), "px");\r\n        var unitWidth = (canvasHeight - (this._rows + 1) * this._gap) / this._rows;\r\n        if (!this._gamePad) {\r\n            var map = new UnitMap_1.UnitMap(this._rows, this._columns);\r\n            this._gamePad = new GamePad_1.GamePad(map, this._canvas.getContext("2d"), unitWidth, this._gap, "#CCCCCC", this._speed);\r\n            this._gamePad.addListener(GamePad_1.GamePad.EVENT_CLEAN_RECORD_UPDATE, function (e) {\r\n                _this._record = e[\'record\'];\r\n                _this.dispatchEvent(e);\r\n            });\r\n            this._gamePad.addListener(GamePad_1.GamePad.EVENT_GAME_OVER, function (e) {\r\n                _this._status = GameStatus.END;\r\n                _this.dispatchEvent(e);\r\n            });\r\n            this._gamePad.cleanPad();\r\n            this._status = GameStatus.READY;\r\n            document.body.addEventListener("keydown", function (event) {\r\n                _this.keyDownHandler(event);\r\n            });\r\n        }\r\n    };\r\n    Game.prototype.start = function () {\r\n        this._gamePad.cleanPad();\r\n        this._gamePad.generateNextShape();\r\n        this._status = GameStatus.STARTING;\r\n        this._record = 0;\r\n    };\r\n    Game.prototype.pause = function () {\r\n        if (this._status === GameStatus.STARTING) {\r\n            this._gamePad.pause();\r\n            this._status = GameStatus.PAUSED;\r\n        }\r\n        else if (this._status === GameStatus.PAUSED) {\r\n            this._gamePad.resume();\r\n            this._status = GameStatus.STARTING;\r\n        }\r\n    };\r\n    Game.prototype.end = function () {\r\n        this._status = GameStatus.END;\r\n        this._gamePad.reset();\r\n    };\r\n    Game.prototype.keyDownHandler = function (event) {\r\n        if (this._status !== GameStatus.STARTING) {\r\n            return;\r\n        }\r\n        if (event.keyCode === 37) {\r\n            //left;\r\n            this._gamePad.moveLeft();\r\n        }\r\n        else if (event.keyCode === 39) {\r\n            //right;\r\n            this._gamePad.moveRight();\r\n        }\r\n        else if (event.keyCode === 40) {\r\n            //down;\r\n            this._gamePad.accelerateDown();\r\n        }\r\n        else if (event.keyCode === 38) {\r\n            //up\r\n            this._gamePad.rotate();\r\n        }\r\n        else if (event.keyCode === 32) {\r\n            //space bar\r\n            this._gamePad.teleportDown();\r\n        }\r\n    };\r\n    Game.EVENT_GAME_OVER = "game_over";\r\n    Game.EVENT_CLEAN_RECORD_UPDATE = "clean_record_update";\r\n    return Game;\r\n}(EventEmitter_1.EventEmitter));\r\nexports.Game = Game;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HYW1lLnRzP2ZhNTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0NBQWdDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxjQUFjO0FBQzlDLGtDQUFrQyxlQUFlO0FBQ2pELCtCQUErQixZQUFZO0FBQzNDLDhCQUE4QixVQUFVO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59O1xyXG52YXIgR2FtZVBhZF8xID0gcmVxdWlyZShcIi4vR2FtZVBhZFwiKTtcclxudmFyIFVuaXRNYXBfMSA9IHJlcXVpcmUoXCIuL1VuaXRNYXBcIik7XHJcbnZhciBDb21tb25VdGlsXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9Db21tb25VdGlsXCIpO1xyXG52YXIgRXZlbnRFbWl0dGVyXzEgPSByZXF1aXJlKFwiLi9FdmVudEVtaXR0ZXJcIik7XHJcbnZhciBHYW1lU3RhdHVzO1xyXG4oZnVuY3Rpb24gKEdhbWVTdGF0dXMpIHtcclxuICAgIEdhbWVTdGF0dXNbR2FtZVN0YXR1c1tcIklOSVRJQUxJWkVEXCJdID0gMF0gPSBcIklOSVRJQUxJWkVEXCI7XHJcbiAgICBHYW1lU3RhdHVzW0dhbWVTdGF0dXNbXCJSRUFEWVwiXSA9IDFdID0gXCJSRUFEWVwiO1xyXG4gICAgR2FtZVN0YXR1c1tHYW1lU3RhdHVzW1wiU1RBUlRJTkdcIl0gPSAyXSA9IFwiU1RBUlRJTkdcIjtcclxuICAgIEdhbWVTdGF0dXNbR2FtZVN0YXR1c1tcIlBBVVNFRFwiXSA9IDNdID0gXCJQQVVTRURcIjtcclxuICAgIEdhbWVTdGF0dXNbR2FtZVN0YXR1c1tcIkVORFwiXSA9IDRdID0gXCJFTkRcIjtcclxufSkoR2FtZVN0YXR1cyB8fCAoR2FtZVN0YXR1cyA9IHt9KSk7XHJcbnZhciBHYW1lID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhHYW1lLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gR2FtZShfY2FudmFzLCBfc3BlZWQsIF9jb2x1bW5zLCBfcm93cywgX2dhcCkge1xyXG4gICAgICAgIGlmIChfc3BlZWQgPT09IHZvaWQgMCkgeyBfc3BlZWQgPSAxMDA7IH1cclxuICAgICAgICBpZiAoX2NvbHVtbnMgPT09IHZvaWQgMCkgeyBfY29sdW1ucyA9IDEyOyB9XHJcbiAgICAgICAgaWYgKF9yb3dzID09PSB2b2lkIDApIHsgX3Jvd3MgPSAyMDsgfVxyXG4gICAgICAgIGlmIChfZ2FwID09PSB2b2lkIDApIHsgX2dhcCA9IDI7IH1cclxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9jYW52YXMgPSBfY2FudmFzO1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gX3NwZWVkO1xyXG4gICAgICAgIHRoaXMuX2NvbHVtbnMgPSBfY29sdW1ucztcclxuICAgICAgICB0aGlzLl9yb3dzID0gX3Jvd3M7XHJcbiAgICAgICAgdGhpcy5fZ2FwID0gX2dhcDtcclxuICAgICAgICB0aGlzLl9yZWNvcmQgPSAwO1xyXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IEdhbWVTdGF0dXMuSU5JVElBTElaRUQ7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR2FtZS5wcm90b3R5cGUsIFwic3BlZWRcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3BlZWQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zcGVlZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLl9nYW1lUGFkLnNwZWVkID0gdGhpcy5fc3BlZWQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR2FtZS5wcm90b3R5cGUsIFwicmVjb3JkXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY29yZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIEdhbWUucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY2FudmFzV2lkdGggPSBDb21tb25VdGlsXzEuQ29tbW9uVXRpbC5yZW1vdmVVbml0KHRoaXMuX2NhbnZhcy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyksIFwicHhcIik7XHJcbiAgICAgICAgdmFyIGNhbnZhc0hlaWdodCA9IENvbW1vblV0aWxfMS5Db21tb25VdGlsLnJlbW92ZVVuaXQodGhpcy5fY2FudmFzLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JyksIFwicHhcIik7XHJcbiAgICAgICAgdmFyIHVuaXRXaWR0aCA9IChjYW52YXNIZWlnaHQgLSAodGhpcy5fcm93cyArIDEpICogdGhpcy5fZ2FwKSAvIHRoaXMuX3Jvd3M7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9nYW1lUGFkKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXAgPSBuZXcgVW5pdE1hcF8xLlVuaXRNYXAodGhpcy5fcm93cywgdGhpcy5fY29sdW1ucyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2dhbWVQYWQgPSBuZXcgR2FtZVBhZF8xLkdhbWVQYWQobWFwLCB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLCB1bml0V2lkdGgsIHRoaXMuX2dhcCwgXCIjQ0NDQ0NDXCIsIHRoaXMuX3NwZWVkKTtcclxuICAgICAgICAgICAgdGhpcy5fZ2FtZVBhZC5hZGRMaXN0ZW5lcihHYW1lUGFkXzEuR2FtZVBhZC5FVkVOVF9DTEVBTl9SRUNPUkRfVVBEQVRFLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3JlY29yZCA9IGVbJ3JlY29yZCddO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZGlzcGF0Y2hFdmVudChlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2dhbWVQYWQuYWRkTGlzdGVuZXIoR2FtZVBhZF8xLkdhbWVQYWQuRVZFTlRfR0FNRV9PVkVSLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3N0YXR1cyA9IEdhbWVTdGF0dXMuRU5EO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZGlzcGF0Y2hFdmVudChlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2dhbWVQYWQuY2xlYW5QYWQoKTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gR2FtZVN0YXR1cy5SRUFEWTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmtleURvd25IYW5kbGVyKGV2ZW50KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEdhbWUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX2dhbWVQYWQuY2xlYW5QYWQoKTtcclxuICAgICAgICB0aGlzLl9nYW1lUGFkLmdlbmVyYXRlTmV4dFNoYXBlKCk7XHJcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gR2FtZVN0YXR1cy5TVEFSVElORztcclxuICAgICAgICB0aGlzLl9yZWNvcmQgPSAwO1xyXG4gICAgfTtcclxuICAgIEdhbWUucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9zdGF0dXMgPT09IEdhbWVTdGF0dXMuU1RBUlRJTkcpIHtcclxuICAgICAgICAgICAgdGhpcy5fZ2FtZVBhZC5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBHYW1lU3RhdHVzLlBBVVNFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5fc3RhdHVzID09PSBHYW1lU3RhdHVzLlBBVVNFRCkge1xyXG4gICAgICAgICAgICB0aGlzLl9nYW1lUGFkLnJlc3VtZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBHYW1lU3RhdHVzLlNUQVJUSU5HO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBHYW1lLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gR2FtZVN0YXR1cy5FTkQ7XHJcbiAgICAgICAgdGhpcy5fZ2FtZVBhZC5yZXNldCgpO1xyXG4gICAgfTtcclxuICAgIEdhbWUucHJvdG90eXBlLmtleURvd25IYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3N0YXR1cyAhPT0gR2FtZVN0YXR1cy5TVEFSVElORykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAzNykge1xyXG4gICAgICAgICAgICAvL2xlZnQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2dhbWVQYWQubW92ZUxlZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMzkpIHtcclxuICAgICAgICAgICAgLy9yaWdodDtcclxuICAgICAgICAgICAgdGhpcy5fZ2FtZVBhZC5tb3ZlUmlnaHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gNDApIHtcclxuICAgICAgICAgICAgLy9kb3duO1xyXG4gICAgICAgICAgICB0aGlzLl9nYW1lUGFkLmFjY2VsZXJhdGVEb3duKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IDM4KSB7XHJcbiAgICAgICAgICAgIC8vdXBcclxuICAgICAgICAgICAgdGhpcy5fZ2FtZVBhZC5yb3RhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMzIpIHtcclxuICAgICAgICAgICAgLy9zcGFjZSBiYXJcclxuICAgICAgICAgICAgdGhpcy5fZ2FtZVBhZC50ZWxlcG9ydERvd24oKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgR2FtZS5FVkVOVF9HQU1FX09WRVIgPSBcImdhbWVfb3ZlclwiO1xyXG4gICAgR2FtZS5FVkVOVF9DTEVBTl9SRUNPUkRfVVBEQVRFID0gXCJjbGVhbl9yZWNvcmRfdXBkYXRlXCI7XHJcbiAgICByZXR1cm4gR2FtZTtcclxufShFdmVudEVtaXR0ZXJfMS5FdmVudEVtaXR0ZXIpKTtcclxuZXhwb3J0cy5HYW1lID0gR2FtZTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9jb3JlL0dhbWUudHNcbiAqKiBtb2R1bGUgaWQgPSAwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval('"use strict";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar Anti_L_Shape_1 = __webpack_require__(2);\r\nvar Anti_Z_Shape_1 = __webpack_require__(5);\r\nvar L_Shape_1 = __webpack_require__(6);\r\nvar Square_1 = __webpack_require__(7);\r\nvar Strip_1 = __webpack_require__(8);\r\nvar T_Shape_1 = __webpack_require__(9);\r\nvar Z_Shape_1 = __webpack_require__(10);\r\nvar SquareUnit_1 = __webpack_require__(11);\r\nvar EventEmitter_1 = __webpack_require__(12);\r\nvar SoundType;\r\n(function (SoundType) {\r\n    SoundType[SoundType["rotate"] = 0] = "rotate";\r\n    SoundType[SoundType["land"] = 1] = "land";\r\n    SoundType[SoundType["clean"] = 2] = "clean";\r\n    SoundType[SoundType["over"] = 3] = "over";\r\n})(SoundType || (SoundType = {}));\r\nvar libPath;\r\n(function () {\r\n    var libs = document.scripts;\r\n    for (var index = 0; index < libs.length; index++) {\r\n        var script = libs[index];\r\n        if (script.src.search(\'tetris.js\') !== -1) {\r\n            libPath = script.src.split(\'tetris.js\')[0];\r\n            break;\r\n        }\r\n    }\r\n})();\r\nvar GamePad = (function (_super) {\r\n    __extends(GamePad, _super);\r\n    function GamePad(_map, _cx, _unitWidth, _gap, _background, _speed) {\r\n        _super.call(this);\r\n        this.color = "#8B658B";\r\n        this.map = _map;\r\n        this.cx = _cx;\r\n        this.unitWidth = _unitWidth;\r\n        this.gap = _gap;\r\n        this.background = _background;\r\n        this.speed = _speed;\r\n        this.color = "#8B658B";\r\n        this.cleanRowsCount = 0;\r\n    }\r\n    GamePad.prototype.render = function (shape) {\r\n        var unitArray = this.map.unitArray;\r\n        this.drawBackground();\r\n        for (var i = 0; i < unitArray.length; i++) {\r\n            var rowArr = unitArray[i];\r\n            for (var j = 0; j < rowArr.length; j++) {\r\n                var item = rowArr[j];\r\n                if (item == 1) {\r\n                    var xPosition = this.gap * (j + 1) + this.unitWidth * j;\r\n                    var yPosition = this.gap * (i + 1) + this.unitWidth * i;\r\n                    var squareUnit = new SquareUnit_1.SquareUnit(xPosition, yPosition, this.unitWidth, this.color);\r\n                    squareUnit.draw(this.cx);\r\n                }\r\n            }\r\n        }\r\n        for (var i = 0; i < shape.keyCoordinations.length; i++) {\r\n            var tempArr = shape.keyCoordinations[i];\r\n            for (var j = 0; j < tempArr.length; j++) {\r\n                var coord = tempArr[j];\r\n                if (coord.value == 1) {\r\n                    var xPosition = this.gap * (coord.y + 1) + this.unitWidth * coord.y;\r\n                    var yPosition = this.gap * (coord.x + 1) + this.unitWidth * coord.x;\r\n                    var squareUnit = new SquareUnit_1.SquareUnit(xPosition, yPosition, this.unitWidth, shape.color);\r\n                    squareUnit.draw(this.cx);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GamePad.prototype.drawBackground = function () {\r\n        if (this.cx != null) {\r\n            var width = this.unitWidth * this.map.column + this.gap * (this.map.column + 1);\r\n            var height = this.unitWidth * this.map.row + this.gap * (this.map.row + 1);\r\n            this.cx.save();\r\n            this.cx.fillStyle = this.background;\r\n            this.cx.fillRect(0, 0, width, height);\r\n            this.cx.restore();\r\n        }\r\n    };\r\n    GamePad.prototype.cleanPad = function () {\r\n        this.map.createMap();\r\n        this.drawBackground();\r\n    };\r\n    GamePad.prototype.autoDown = function () {\r\n        var _this = this;\r\n        var result = this.activeShape.down();\r\n        if (result) {\r\n            this.render(this.activeShape);\r\n            this.timer = setTimeout(function () {\r\n                _this.autoDown();\r\n            }, this.speed);\r\n        }\r\n        else {\r\n            this.playSound(SoundType.land);\r\n            this.updatePad();\r\n        }\r\n    };\r\n    GamePad.prototype.reset = function () {\r\n        clearTimeout(this.timer);\r\n        this.cleanPad();\r\n    };\r\n    GamePad.prototype.pause = function () {\r\n        clearTimeout(this.timer);\r\n    };\r\n    GamePad.prototype.resume = function () {\r\n        this.autoDown();\r\n    };\r\n    GamePad.prototype.updatePad = function () {\r\n        var cleanLineCount = this.cleanRow();\r\n        if (cleanLineCount == -1) {\r\n            this.playSound(SoundType.over);\r\n            clearTimeout(this.timer);\r\n            this.dispatchEvent({ \'eventType\': GamePad.EVENT_GAME_OVER });\r\n        }\r\n        else {\r\n            if (cleanLineCount > 0) {\r\n                this.playSound(SoundType.clean);\r\n                this.dispatchEvent({ \'eventType\': GamePad.EVENT_CLEAN_RECORD_UPDATE, \'record\': cleanLineCount });\r\n            }\r\n            this.generateNextShape();\r\n        }\r\n    };\r\n    GamePad.prototype.generateNextShape = function () {\r\n        var _this = this;\r\n        var num = 7;\r\n        var random = Math.round(Math.random() * (num - 1));\r\n        switch (random) {\r\n            case 0:\r\n                this.activeShape = new Square_1.Square(this.map);\r\n                break;\r\n            case 1:\r\n                this.activeShape = new Strip_1.Strip(this.map);\r\n                break;\r\n            case 2:\r\n                this.activeShape = new L_Shape_1.LShape(this.map);\r\n                break;\r\n            case 3:\r\n                this.activeShape = new Anti_L_Shape_1.AntiLShape(this.map);\r\n                break;\r\n            case 4:\r\n                this.activeShape = new Z_Shape_1.ZShape(this.map);\r\n                break;\r\n            case 5:\r\n                this.activeShape = new Anti_Z_Shape_1.AntiZShape(this.map);\r\n                break;\r\n            case 6:\r\n                this.activeShape = new T_Shape_1.TShape(this.map);\r\n                break;\r\n        }\r\n        this.activeShape.init();\r\n        clearTimeout(this.timer);\r\n        this.render(this.activeShape);\r\n        this.timer = setTimeout(function () {\r\n            _this.autoDown();\r\n        }, this.speed);\r\n    };\r\n    GamePad.prototype.cleanRow = function () {\r\n        var lineCount = 0;\r\n        for (var i = this.map.unitArray.length - 1; i >= 0; i--) {\r\n            var rowArr = this.map.unitArray[i];\r\n            var count = 0;\r\n            for (var j = 0; j < rowArr.length; j++) {\r\n                var item = rowArr[j];\r\n                if (item == 1) {\r\n                    count++;\r\n                }\r\n            }\r\n            if (count == rowArr.length) {\r\n                lineCount++;\r\n                this.map.unitArray.splice(i, 1);\r\n            }\r\n        }\r\n        for (var i = 0; i < lineCount; i++) {\r\n            var newRow = [];\r\n            for (var j = 0; j < this.map.column; j++) {\r\n                newRow.push(0);\r\n            }\r\n            this.map.unitArray.unshift(newRow);\r\n        }\r\n        for (var i = 0; i < this.map.unitArray[0].length; i++) {\r\n            var item = this.map.unitArray[0][i];\r\n            if (item == 1) {\r\n                return -1;\r\n            }\r\n        }\r\n        return lineCount;\r\n    };\r\n    GamePad.prototype.accelerateDown = function () {\r\n        var result = this.activeShape.down();\r\n        if (result) {\r\n            this.render(this.activeShape);\r\n        }\r\n        else {\r\n            this.playSound(SoundType.land);\r\n            this.updatePad();\r\n        }\r\n    };\r\n    GamePad.prototype.teleportDown = function () {\r\n        var result = this.activeShape.quickDrop();\r\n        if (!result) {\r\n            this.playSound(SoundType.land);\r\n            this.render(this.activeShape);\r\n            this.updatePad();\r\n        }\r\n    };\r\n    GamePad.prototype.moveLeft = function () {\r\n        var result = this.activeShape.left();\r\n        if (result) {\r\n            this.render(this.activeShape);\r\n        }\r\n    };\r\n    GamePad.prototype.moveRight = function () {\r\n        var result = this.activeShape.right();\r\n        if (result) {\r\n            this.render(this.activeShape);\r\n        }\r\n    };\r\n    GamePad.prototype.rotate = function () {\r\n        var result = this.activeShape.transform();\r\n        if (result) {\r\n            this.playSound(SoundType.rotate);\r\n            this.render(this.activeShape);\r\n        }\r\n    };\r\n    GamePad.prototype.playSound = function (soundType) {\r\n        if (!this.soundPlayer) {\r\n            this.soundPlayer = document.createElement("Audio");\r\n            document.body.appendChild(this.soundPlayer);\r\n            this.soundPlayer.style.visibility = "none";\r\n        }\r\n        var url;\r\n        switch (soundType) {\r\n            case SoundType.rotate:\r\n                url = libPath + "asset/sound/effect1.mp3";\r\n                break;\r\n            case SoundType.land:\r\n                url = libPath + "asset/sound/effect1.mp3";\r\n                break;\r\n            case SoundType.clean:\r\n                url = libPath + "asset/sound/effect3.mp3";\r\n                break;\r\n            case SoundType.over:\r\n                url = libPath + "asset/sound/gameover.mp3";\r\n                break;\r\n        }\r\n        if (this.soundPlayer.src !== url) {\r\n            this.soundPlayer.src = url;\r\n        }\r\n        this.soundPlayer.currentTime = 0;\r\n        this.soundPlayer.play();\r\n    };\r\n    GamePad.EVENT_GAME_OVER = "game_over";\r\n    GamePad.EVENT_CLEAN_RECORD_UPDATE = "clean_record_update";\r\n    return GamePad;\r\n}(EventEmitter_1.EventEmitter));\r\nexports.GamePad = GamePad;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HYW1lUGFkLnRzP2IzNjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4QkFBOEI7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFCQUFxQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQSwyQkFBMkIsbUJBQW1CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtQ0FBbUM7QUFDMUQ7QUFDQSwyQkFBMkIsb0JBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx1Q0FBdUM7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsMkVBQTJFO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0EsMkJBQTJCLG1CQUFtQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixlQUFlO0FBQ3RDO0FBQ0EsMkJBQTJCLHFCQUFxQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrQ0FBa0M7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn07XHJcbnZhciBBbnRpX0xfU2hhcGVfMSA9IHJlcXVpcmUoXCIuLi9zaGFwZS9BbnRpX0xfU2hhcGVcIik7XHJcbnZhciBBbnRpX1pfU2hhcGVfMSA9IHJlcXVpcmUoXCIuLi9zaGFwZS9BbnRpX1pfU2hhcGVcIik7XHJcbnZhciBMX1NoYXBlXzEgPSByZXF1aXJlKFwiLi4vc2hhcGUvTF9TaGFwZVwiKTtcclxudmFyIFNxdWFyZV8xID0gcmVxdWlyZShcIi4uL3NoYXBlL1NxdWFyZVwiKTtcclxudmFyIFN0cmlwXzEgPSByZXF1aXJlKFwiLi4vc2hhcGUvU3RyaXBcIik7XHJcbnZhciBUX1NoYXBlXzEgPSByZXF1aXJlKFwiLi4vc2hhcGUvVF9TaGFwZVwiKTtcclxudmFyIFpfU2hhcGVfMSA9IHJlcXVpcmUoXCIuLi9zaGFwZS9aX1NoYXBlXCIpO1xyXG52YXIgU3F1YXJlVW5pdF8xID0gcmVxdWlyZShcIi4vU3F1YXJlVW5pdFwiKTtcclxudmFyIEV2ZW50RW1pdHRlcl8xID0gcmVxdWlyZShcIi4vRXZlbnRFbWl0dGVyXCIpO1xyXG52YXIgU291bmRUeXBlO1xyXG4oZnVuY3Rpb24gKFNvdW5kVHlwZSkge1xyXG4gICAgU291bmRUeXBlW1NvdW5kVHlwZVtcInJvdGF0ZVwiXSA9IDBdID0gXCJyb3RhdGVcIjtcclxuICAgIFNvdW5kVHlwZVtTb3VuZFR5cGVbXCJsYW5kXCJdID0gMV0gPSBcImxhbmRcIjtcclxuICAgIFNvdW5kVHlwZVtTb3VuZFR5cGVbXCJjbGVhblwiXSA9IDJdID0gXCJjbGVhblwiO1xyXG4gICAgU291bmRUeXBlW1NvdW5kVHlwZVtcIm92ZXJcIl0gPSAzXSA9IFwib3ZlclwiO1xyXG59KShTb3VuZFR5cGUgfHwgKFNvdW5kVHlwZSA9IHt9KSk7XHJcbnZhciBsaWJQYXRoO1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGxpYnMgPSBkb2N1bWVudC5zY3JpcHRzO1xyXG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxpYnMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgdmFyIHNjcmlwdCA9IGxpYnNbaW5kZXhdO1xyXG4gICAgICAgIGlmIChzY3JpcHQuc3JjLnNlYXJjaCgndGV0cmlzLmpzJykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIGxpYlBhdGggPSBzY3JpcHQuc3JjLnNwbGl0KCd0ZXRyaXMuanMnKVswXTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG52YXIgR2FtZVBhZCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoR2FtZVBhZCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEdhbWVQYWQoX21hcCwgX2N4LCBfdW5pdFdpZHRoLCBfZ2FwLCBfYmFja2dyb3VuZCwgX3NwZWVkKSB7XHJcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IFwiIzhCNjU4QlwiO1xyXG4gICAgICAgIHRoaXMubWFwID0gX21hcDtcclxuICAgICAgICB0aGlzLmN4ID0gX2N4O1xyXG4gICAgICAgIHRoaXMudW5pdFdpZHRoID0gX3VuaXRXaWR0aDtcclxuICAgICAgICB0aGlzLmdhcCA9IF9nYXA7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gX2JhY2tncm91bmQ7XHJcbiAgICAgICAgdGhpcy5zcGVlZCA9IF9zcGVlZDtcclxuICAgICAgICB0aGlzLmNvbG9yID0gXCIjOEI2NThCXCI7XHJcbiAgICAgICAgdGhpcy5jbGVhblJvd3NDb3VudCA9IDA7XHJcbiAgICB9XHJcbiAgICBHYW1lUGFkLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoc2hhcGUpIHtcclxuICAgICAgICB2YXIgdW5pdEFycmF5ID0gdGhpcy5tYXAudW5pdEFycmF5O1xyXG4gICAgICAgIHRoaXMuZHJhd0JhY2tncm91bmQoKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVuaXRBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgcm93QXJyID0gdW5pdEFycmF5W2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJvd0Fyci5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSByb3dBcnJbal07XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHhQb3NpdGlvbiA9IHRoaXMuZ2FwICogKGogKyAxKSArIHRoaXMudW5pdFdpZHRoICogajtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeVBvc2l0aW9uID0gdGhpcy5nYXAgKiAoaSArIDEpICsgdGhpcy51bml0V2lkdGggKiBpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzcXVhcmVVbml0ID0gbmV3IFNxdWFyZVVuaXRfMS5TcXVhcmVVbml0KHhQb3NpdGlvbiwgeVBvc2l0aW9uLCB0aGlzLnVuaXRXaWR0aCwgdGhpcy5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlVW5pdC5kcmF3KHRoaXMuY3gpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hhcGUua2V5Q29vcmRpbmF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdGVtcEFyciA9IHNoYXBlLmtleUNvb3JkaW5hdGlvbnNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcEFyci5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvb3JkID0gdGVtcEFycltqXTtcclxuICAgICAgICAgICAgICAgIGlmIChjb29yZC52YWx1ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHhQb3NpdGlvbiA9IHRoaXMuZ2FwICogKGNvb3JkLnkgKyAxKSArIHRoaXMudW5pdFdpZHRoICogY29vcmQueTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeVBvc2l0aW9uID0gdGhpcy5nYXAgKiAoY29vcmQueCArIDEpICsgdGhpcy51bml0V2lkdGggKiBjb29yZC54O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzcXVhcmVVbml0ID0gbmV3IFNxdWFyZVVuaXRfMS5TcXVhcmVVbml0KHhQb3NpdGlvbiwgeVBvc2l0aW9uLCB0aGlzLnVuaXRXaWR0aCwgc2hhcGUuY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZVVuaXQuZHJhdyh0aGlzLmN4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBHYW1lUGFkLnByb3RvdHlwZS5kcmF3QmFja2dyb3VuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5jeCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMudW5pdFdpZHRoICogdGhpcy5tYXAuY29sdW1uICsgdGhpcy5nYXAgKiAodGhpcy5tYXAuY29sdW1uICsgMSk7XHJcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLnVuaXRXaWR0aCAqIHRoaXMubWFwLnJvdyArIHRoaXMuZ2FwICogKHRoaXMubWFwLnJvdyArIDEpO1xyXG4gICAgICAgICAgICB0aGlzLmN4LnNhdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5jeC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmQ7XHJcbiAgICAgICAgICAgIHRoaXMuY3guZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3gucmVzdG9yZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBHYW1lUGFkLnByb3RvdHlwZS5jbGVhblBhZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm1hcC5jcmVhdGVNYXAoKTtcclxuICAgICAgICB0aGlzLmRyYXdCYWNrZ3JvdW5kKCk7XHJcbiAgICB9O1xyXG4gICAgR2FtZVBhZC5wcm90b3R5cGUuYXV0b0Rvd24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5hY3RpdmVTaGFwZS5kb3duKCk7XHJcbiAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcih0aGlzLmFjdGl2ZVNoYXBlKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuYXV0b0Rvd24oKTtcclxuICAgICAgICAgICAgfSwgdGhpcy5zcGVlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlTb3VuZChTb3VuZFR5cGUubGFuZCk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEdhbWVQYWQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcclxuICAgICAgICB0aGlzLmNsZWFuUGFkKCk7XHJcbiAgICB9O1xyXG4gICAgR2FtZVBhZC5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xyXG4gICAgfTtcclxuICAgIEdhbWVQYWQucHJvdG90eXBlLnJlc3VtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmF1dG9Eb3duKCk7XHJcbiAgICB9O1xyXG4gICAgR2FtZVBhZC5wcm90b3R5cGUudXBkYXRlUGFkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjbGVhbkxpbmVDb3VudCA9IHRoaXMuY2xlYW5Sb3coKTtcclxuICAgICAgICBpZiAoY2xlYW5MaW5lQ291bnQgPT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5U291bmQoU291bmRUeXBlLm92ZXIpO1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7ICdldmVudFR5cGUnOiBHYW1lUGFkLkVWRU5UX0dBTUVfT1ZFUiB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChjbGVhbkxpbmVDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheVNvdW5kKFNvdW5kVHlwZS5jbGVhbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoeyAnZXZlbnRUeXBlJzogR2FtZVBhZC5FVkVOVF9DTEVBTl9SRUNPUkRfVVBEQVRFLCAncmVjb3JkJzogY2xlYW5MaW5lQ291bnQgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZU5leHRTaGFwZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBHYW1lUGFkLnByb3RvdHlwZS5nZW5lcmF0ZU5leHRTaGFwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBudW0gPSA3O1xyXG4gICAgICAgIHZhciByYW5kb20gPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAobnVtIC0gMSkpO1xyXG4gICAgICAgIHN3aXRjaCAocmFuZG9tKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlU2hhcGUgPSBuZXcgU3F1YXJlXzEuU3F1YXJlKHRoaXMubWFwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVNoYXBlID0gbmV3IFN0cmlwXzEuU3RyaXAodGhpcy5tYXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlU2hhcGUgPSBuZXcgTF9TaGFwZV8xLkxTaGFwZSh0aGlzLm1hcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZSA9IG5ldyBBbnRpX0xfU2hhcGVfMS5BbnRpTFNoYXBlKHRoaXMubWFwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVNoYXBlID0gbmV3IFpfU2hhcGVfMS5aU2hhcGUodGhpcy5tYXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlU2hhcGUgPSBuZXcgQW50aV9aX1NoYXBlXzEuQW50aVpTaGFwZSh0aGlzLm1hcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZSA9IG5ldyBUX1NoYXBlXzEuVFNoYXBlKHRoaXMubWFwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFjdGl2ZVNoYXBlLmluaXQoKTtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIodGhpcy5hY3RpdmVTaGFwZSk7XHJcbiAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5hdXRvRG93bigpO1xyXG4gICAgICAgIH0sIHRoaXMuc3BlZWQpO1xyXG4gICAgfTtcclxuICAgIEdhbWVQYWQucHJvdG90eXBlLmNsZWFuUm93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBsaW5lQ291bnQgPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLm1hcC51bml0QXJyYXkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgdmFyIHJvd0FyciA9IHRoaXMubWFwLnVuaXRBcnJheVtpXTtcclxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByb3dBcnIubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gcm93QXJyW2pdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvdW50ID09IHJvd0Fyci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGxpbmVDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXAudW5pdEFycmF5LnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdSb3cgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLm1hcC5jb2x1bW47IGorKykge1xyXG4gICAgICAgICAgICAgICAgbmV3Um93LnB1c2goMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tYXAudW5pdEFycmF5LnVuc2hpZnQobmV3Um93KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1hcC51bml0QXJyYXlbMF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLm1hcC51bml0QXJyYXlbMF1baV07XHJcbiAgICAgICAgICAgIGlmIChpdGVtID09IDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGluZUNvdW50O1xyXG4gICAgfTtcclxuICAgIEdhbWVQYWQucHJvdG90eXBlLmFjY2VsZXJhdGVEb3duID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmFjdGl2ZVNoYXBlLmRvd24oKTtcclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKHRoaXMuYWN0aXZlU2hhcGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5U291bmQoU291bmRUeXBlLmxhbmQpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBHYW1lUGFkLnByb3RvdHlwZS50ZWxlcG9ydERvd24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuYWN0aXZlU2hhcGUucXVpY2tEcm9wKCk7XHJcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5U291bmQoU291bmRUeXBlLmxhbmQpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcih0aGlzLmFjdGl2ZVNoYXBlKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQYWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgR2FtZVBhZC5wcm90b3R5cGUubW92ZUxlZnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuYWN0aXZlU2hhcGUubGVmdCgpO1xyXG4gICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIodGhpcy5hY3RpdmVTaGFwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEdhbWVQYWQucHJvdG90eXBlLm1vdmVSaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5hY3RpdmVTaGFwZS5yaWdodCgpO1xyXG4gICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIodGhpcy5hY3RpdmVTaGFwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEdhbWVQYWQucHJvdG90eXBlLnJvdGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5hY3RpdmVTaGFwZS50cmFuc2Zvcm0oKTtcclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheVNvdW5kKFNvdW5kVHlwZS5yb3RhdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcih0aGlzLmFjdGl2ZVNoYXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgR2FtZVBhZC5wcm90b3R5cGUucGxheVNvdW5kID0gZnVuY3Rpb24gKHNvdW5kVHlwZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5zb3VuZFBsYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kUGxheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkF1ZGlvXCIpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuc291bmRQbGF5ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kUGxheWVyLnN0eWxlLnZpc2liaWxpdHkgPSBcIm5vbmVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVybDtcclxuICAgICAgICBzd2l0Y2ggKHNvdW5kVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFNvdW5kVHlwZS5yb3RhdGU6XHJcbiAgICAgICAgICAgICAgICB1cmwgPSBsaWJQYXRoICsgXCJhc3NldC9zb3VuZC9lZmZlY3QxLm1wM1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU291bmRUeXBlLmxhbmQ6XHJcbiAgICAgICAgICAgICAgICB1cmwgPSBsaWJQYXRoICsgXCJhc3NldC9zb3VuZC9lZmZlY3QxLm1wM1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU291bmRUeXBlLmNsZWFuOlxyXG4gICAgICAgICAgICAgICAgdXJsID0gbGliUGF0aCArIFwiYXNzZXQvc291bmQvZWZmZWN0My5tcDNcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNvdW5kVHlwZS5vdmVyOlxyXG4gICAgICAgICAgICAgICAgdXJsID0gbGliUGF0aCArIFwiYXNzZXQvc291bmQvZ2FtZW92ZXIubXAzXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc291bmRQbGF5ZXIuc3JjICE9PSB1cmwpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZFBsYXllci5zcmMgPSB1cmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc291bmRQbGF5ZXIuY3VycmVudFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuc291bmRQbGF5ZXIucGxheSgpO1xyXG4gICAgfTtcclxuICAgIEdhbWVQYWQuRVZFTlRfR0FNRV9PVkVSID0gXCJnYW1lX292ZXJcIjtcclxuICAgIEdhbWVQYWQuRVZFTlRfQ0xFQU5fUkVDT1JEX1VQREFURSA9IFwiY2xlYW5fcmVjb3JkX3VwZGF0ZVwiO1xyXG4gICAgcmV0dXJuIEdhbWVQYWQ7XHJcbn0oRXZlbnRFbWl0dGVyXzEuRXZlbnRFbWl0dGVyKSk7XHJcbmV4cG9ydHMuR2FtZVBhZCA9IEdhbWVQYWQ7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvY29yZS9HYW1lUGFkLnRzXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==');
},function(module,exports,__webpack_require__){eval('"use strict";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar Coordination_1 = __webpack_require__(3);\r\nvar BaseShape_1 = __webpack_require__(4);\r\nvar AntiLShape = (function (_super) {\r\n    __extends(AntiLShape, _super);\r\n    function AntiLShape(_map) {\r\n        _super.call(this, _map, "#FF00FF", 3);\r\n    }\r\n    AntiLShape.prototype.init = function () {\r\n        var position = this.measureInitPosition();\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(0, position, 0), new Coordination_1.Coordination(0, position + 1, 1), new Coordination_1.Coordination(0, position + 2, 0)]);\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(1, position, 0), new Coordination_1.Coordination(1, position + 1, 1), new Coordination_1.Coordination(1, position + 2, 0)]);\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(2, position, 1), new Coordination_1.Coordination(2, position + 1, 1), new Coordination_1.Coordination(2, position + 2, 0)]);\r\n    };\r\n    AntiLShape.prototype.transform = function () {\r\n        return this.rotate();\r\n    };\r\n    return AntiLShape;\r\n}(BaseShape_1.BaseShape));\r\nexports.AntiLShape = AntiLShape;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGUvQW50aV9MX1NoYXBlLnRzPzVlYzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn07XHJcbnZhciBDb29yZGluYXRpb25fMSA9IHJlcXVpcmUoXCIuLi9jb3JlL0Nvb3JkaW5hdGlvblwiKTtcclxudmFyIEJhc2VTaGFwZV8xID0gcmVxdWlyZShcIi4vQmFzZVNoYXBlXCIpO1xyXG52YXIgQW50aUxTaGFwZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQW50aUxTaGFwZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEFudGlMU2hhcGUoX21hcCkge1xyXG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIF9tYXAsIFwiI0ZGMDBGRlwiLCAzKTtcclxuICAgIH1cclxuICAgIEFudGlMU2hhcGUucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5tZWFzdXJlSW5pdFBvc2l0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5rZXlDb29yZGluYXRpb25zLnB1c2goW25ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMCwgcG9zaXRpb24sIDApLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDAsIHBvc2l0aW9uICsgMSwgMSksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMCwgcG9zaXRpb24gKyAyLCAwKV0pO1xyXG4gICAgICAgIHRoaXMua2V5Q29vcmRpbmF0aW9ucy5wdXNoKFtuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDEsIHBvc2l0aW9uLCAwKSwgbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigxLCBwb3NpdGlvbiArIDEsIDEpLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDEsIHBvc2l0aW9uICsgMiwgMCldKTtcclxuICAgICAgICB0aGlzLmtleUNvb3JkaW5hdGlvbnMucHVzaChbbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigyLCBwb3NpdGlvbiwgMSksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMiwgcG9zaXRpb24gKyAxLCAxKSwgbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigyLCBwb3NpdGlvbiArIDIsIDApXSk7XHJcbiAgICB9O1xyXG4gICAgQW50aUxTaGFwZS5wcm90b3R5cGUudHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0ZSgpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBbnRpTFNoYXBlO1xyXG59KEJhc2VTaGFwZV8xLkJhc2VTaGFwZSkpO1xyXG5leHBvcnRzLkFudGlMU2hhcGUgPSBBbnRpTFNoYXBlO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL3NoYXBlL0FudGlfTF9TaGFwZS50c1xuICoqIG1vZHVsZSBpZCA9IDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){eval('"use strict";\r\nvar Coordination = (function () {\r\n    function Coordination(_x, _y, _value) {\r\n        this.x = _x;\r\n        this.y = _y;\r\n        this.value = _value;\r\n    }\r\n    return Coordination;\r\n}());\r\nexports.Coordination = Coordination;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9Db29yZGluYXRpb24udHM/MDE1NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIENvb3JkaW5hdGlvbiA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb29yZGluYXRpb24oX3gsIF95LCBfdmFsdWUpIHtcclxuICAgICAgICB0aGlzLnggPSBfeDtcclxuICAgICAgICB0aGlzLnkgPSBfeTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gX3ZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIENvb3JkaW5hdGlvbjtcclxufSgpKTtcclxuZXhwb3J0cy5Db29yZGluYXRpb24gPSBDb29yZGluYXRpb247XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvY29yZS9Db29yZGluYXRpb24udHNcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval('"use strict";\r\nvar Coordination_1 = __webpack_require__(3);\r\nvar BaseShape = (function () {\r\n    function BaseShape(_map, _color, _matrixUnit, _keyCoordinations) {\r\n        if (_color === void 0) { _color = "FFFFFF"; }\r\n        if (_matrixUnit === void 0) { _matrixUnit = 0; }\r\n        if (_keyCoordinations === void 0) { _keyCoordinations = []; }\r\n        this.map = _map;\r\n        this.color = _color;\r\n        this.matrixUnit = _matrixUnit;\r\n        this.keyCoordinations = _keyCoordinations;\r\n    }\r\n    BaseShape.prototype.init = function () {\r\n    };\r\n    BaseShape.prototype.measureInitPosition = function () {\r\n        return Math.floor((this.map.column - this.matrixUnit) / 2);\r\n    };\r\n    BaseShape.prototype.down = function () {\r\n        return this.move(BaseShape.DOWN);\r\n    };\r\n    BaseShape.prototype.left = function () {\r\n        return this.move(BaseShape.LEFT);\r\n    };\r\n    BaseShape.prototype.right = function () {\r\n        return this.move(BaseShape.RIGHT);\r\n    };\r\n    BaseShape.prototype.rotate = function () {\r\n        return this.move(BaseShape.CLOCK_WISE);\r\n    };\r\n    BaseShape.prototype.antiRotate = function () {\r\n        return this.move(BaseShape.ANTI_CLOCK_WISE);\r\n    };\r\n    BaseShape.prototype.transform = function () {\r\n        return true;\r\n    };\r\n    BaseShape.prototype.quickDrop = function () {\r\n        var result = this.move(BaseShape.DOWN);\r\n        if (result) {\r\n            return this.quickDrop();\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    BaseShape.prototype.move = function (direction) {\r\n        var nextCoords = this.mockNextCoordinations(this.keyCoordinations, direction);\r\n        var isValid = this.validNextCoordinations(nextCoords);\r\n        if (isValid) {\r\n            this.keyCoordinations = nextCoords;\r\n            return true;\r\n        }\r\n        else {\r\n            if (direction == BaseShape.DOWN) {\r\n                for (var i = 0; i < this.keyCoordinations.length; i++) {\r\n                    var tempArr = this.keyCoordinations[i];\r\n                    for (var j = 0; j < tempArr.length; j++) {\r\n                        var coord = tempArr[j];\r\n                        if (coord.value == 1) {\r\n                            this.map.unitArray[coord.x][coord.y] = 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    };\r\n    BaseShape.prototype.mockNextCoordinations = function (currentCoordinations, direction) {\r\n        var nextCoordinations = [];\r\n        for (var i = 0; i < currentCoordinations.length; i++) {\r\n            var newTempArr = [];\r\n            var tempArr = currentCoordinations[i];\r\n            for (var j = 0; j < tempArr.length; j++) {\r\n                var coord = tempArr[j];\r\n                var newCoord = void 0;\r\n                var value = void 0;\r\n                switch (direction) {\r\n                    case BaseShape.DOWN:\r\n                        newCoord = new Coordination_1.Coordination(coord.x + 1, coord.y, coord.value);\r\n                        break;\r\n                    case BaseShape.LEFT:\r\n                        newCoord = new Coordination_1.Coordination(coord.x, coord.y - 1, coord.value);\r\n                        break;\r\n                    case BaseShape.RIGHT:\r\n                        newCoord = new Coordination_1.Coordination(coord.x, coord.y + 1, coord.value);\r\n                        break;\r\n                    case BaseShape.CLOCK_WISE:\r\n                        value = currentCoordinations[currentCoordinations.length - 1 - j][i].value;\r\n                        newCoord = new Coordination_1.Coordination(coord.x, coord.y, value);\r\n                        break;\r\n                    case BaseShape.ANTI_CLOCK_WISE:\r\n                        value = currentCoordinations[j][currentCoordinations.length - 1 - i].value;\r\n                        newCoord = new Coordination_1.Coordination(coord.x, coord.y, value);\r\n                        break;\r\n                }\r\n                newTempArr.push(newCoord);\r\n            }\r\n            nextCoordinations.push(newTempArr);\r\n        }\r\n        return nextCoordinations;\r\n    };\r\n    BaseShape.prototype.validNextCoordinations = function (nextCoords) {\r\n        for (var i = 0; i < nextCoords.length; i++) {\r\n            var tempArr = nextCoords[i];\r\n            for (var j = 0; j < tempArr.length; j++) {\r\n                var coord = tempArr[j];\r\n                if (coord.value == 1) {\r\n                    if (coord.y < 0 || coord.y > this.map.column - 1 || coord.x > this.map.row - 1) {\r\n                        return false;\r\n                    }\r\n                    if (this.map.unitArray[coord.x][coord.y] == 1) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    BaseShape.LEFT = "left";\r\n    BaseShape.RIGHT = "right";\r\n    BaseShape.DOWN = "down";\r\n    BaseShape.CLOCK_WISE = "clockWise";\r\n    BaseShape.ANTI_CLOCK_WISE = "antiClockWise";\r\n    return BaseShape;\r\n}());\r\nexports.BaseShape = BaseShape;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGUvQmFzZVNoYXBlLnRzPzc2YzUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsbUJBQW1CO0FBQ25ELHFDQUFxQyxpQkFBaUI7QUFDdEQsMkNBQTJDLHdCQUF3QjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixrQ0FBa0M7QUFDakU7QUFDQSxtQ0FBbUMsb0JBQW9CO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixpQ0FBaUM7QUFDeEQ7QUFDQTtBQUNBLDJCQUEyQixvQkFBb0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1QkFBdUI7QUFDOUM7QUFDQSwyQkFBMkIsb0JBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIENvb3JkaW5hdGlvbl8xID0gcmVxdWlyZShcIi4uL2NvcmUvQ29vcmRpbmF0aW9uXCIpO1xyXG52YXIgQmFzZVNoYXBlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJhc2VTaGFwZShfbWFwLCBfY29sb3IsIF9tYXRyaXhVbml0LCBfa2V5Q29vcmRpbmF0aW9ucykge1xyXG4gICAgICAgIGlmIChfY29sb3IgPT09IHZvaWQgMCkgeyBfY29sb3IgPSBcIkZGRkZGRlwiOyB9XHJcbiAgICAgICAgaWYgKF9tYXRyaXhVbml0ID09PSB2b2lkIDApIHsgX21hdHJpeFVuaXQgPSAwOyB9XHJcbiAgICAgICAgaWYgKF9rZXlDb29yZGluYXRpb25zID09PSB2b2lkIDApIHsgX2tleUNvb3JkaW5hdGlvbnMgPSBbXTsgfVxyXG4gICAgICAgIHRoaXMubWFwID0gX21hcDtcclxuICAgICAgICB0aGlzLmNvbG9yID0gX2NvbG9yO1xyXG4gICAgICAgIHRoaXMubWF0cml4VW5pdCA9IF9tYXRyaXhVbml0O1xyXG4gICAgICAgIHRoaXMua2V5Q29vcmRpbmF0aW9ucyA9IF9rZXlDb29yZGluYXRpb25zO1xyXG4gICAgfVxyXG4gICAgQmFzZVNoYXBlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgfTtcclxuICAgIEJhc2VTaGFwZS5wcm90b3R5cGUubWVhc3VyZUluaXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigodGhpcy5tYXAuY29sdW1uIC0gdGhpcy5tYXRyaXhVbml0KSAvIDIpO1xyXG4gICAgfTtcclxuICAgIEJhc2VTaGFwZS5wcm90b3R5cGUuZG93biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb3ZlKEJhc2VTaGFwZS5ET1dOKTtcclxuICAgIH07XHJcbiAgICBCYXNlU2hhcGUucHJvdG90eXBlLmxlZnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW92ZShCYXNlU2hhcGUuTEVGVCk7XHJcbiAgICB9O1xyXG4gICAgQmFzZVNoYXBlLnByb3RvdHlwZS5yaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb3ZlKEJhc2VTaGFwZS5SSUdIVCk7XHJcbiAgICB9O1xyXG4gICAgQmFzZVNoYXBlLnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW92ZShCYXNlU2hhcGUuQ0xPQ0tfV0lTRSk7XHJcbiAgICB9O1xyXG4gICAgQmFzZVNoYXBlLnByb3RvdHlwZS5hbnRpUm90YXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vdmUoQmFzZVNoYXBlLkFOVElfQ0xPQ0tfV0lTRSk7XHJcbiAgICB9O1xyXG4gICAgQmFzZVNoYXBlLnByb3RvdHlwZS50cmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgQmFzZVNoYXBlLnByb3RvdHlwZS5xdWlja0Ryb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMubW92ZShCYXNlU2hhcGUuRE9XTik7XHJcbiAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5xdWlja0Ryb3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQmFzZVNoYXBlLnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xyXG4gICAgICAgIHZhciBuZXh0Q29vcmRzID0gdGhpcy5tb2NrTmV4dENvb3JkaW5hdGlvbnModGhpcy5rZXlDb29yZGluYXRpb25zLCBkaXJlY3Rpb24pO1xyXG4gICAgICAgIHZhciBpc1ZhbGlkID0gdGhpcy52YWxpZE5leHRDb29yZGluYXRpb25zKG5leHRDb29yZHMpO1xyXG4gICAgICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMua2V5Q29vcmRpbmF0aW9ucyA9IG5leHRDb29yZHM7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBCYXNlU2hhcGUuRE9XTikge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmtleUNvb3JkaW5hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcEFyciA9IHRoaXMua2V5Q29vcmRpbmF0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRlbXBBcnIubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvb3JkID0gdGVtcEFycltqXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvb3JkLnZhbHVlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLnVuaXRBcnJheVtjb29yZC54XVtjb29yZC55XSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBCYXNlU2hhcGUucHJvdG90eXBlLm1vY2tOZXh0Q29vcmRpbmF0aW9ucyA9IGZ1bmN0aW9uIChjdXJyZW50Q29vcmRpbmF0aW9ucywgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgdmFyIG5leHRDb29yZGluYXRpb25zID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyZW50Q29vcmRpbmF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbmV3VGVtcEFyciA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgdGVtcEFyciA9IGN1cnJlbnRDb29yZGluYXRpb25zW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRlbXBBcnIubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb29yZCA9IHRlbXBBcnJbal07XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3Q29vcmQgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQmFzZVNoYXBlLkRPV046XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Nvb3JkID0gbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbihjb29yZC54ICsgMSwgY29vcmQueSwgY29vcmQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEJhc2VTaGFwZS5MRUZUOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDb29yZCA9IG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oY29vcmQueCwgY29vcmQueSAtIDEsIGNvb3JkLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCYXNlU2hhcGUuUklHSFQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Nvb3JkID0gbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbihjb29yZC54LCBjb29yZC55ICsgMSwgY29vcmQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEJhc2VTaGFwZS5DTE9DS19XSVNFOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGN1cnJlbnRDb29yZGluYXRpb25zW2N1cnJlbnRDb29yZGluYXRpb25zLmxlbmd0aCAtIDEgLSBqXVtpXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29vcmQgPSBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKGNvb3JkLngsIGNvb3JkLnksIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCYXNlU2hhcGUuQU5USV9DTE9DS19XSVNFOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGN1cnJlbnRDb29yZGluYXRpb25zW2pdW2N1cnJlbnRDb29yZGluYXRpb25zLmxlbmd0aCAtIDEgLSBpXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29vcmQgPSBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKGNvb3JkLngsIGNvb3JkLnksIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXdUZW1wQXJyLnB1c2gobmV3Q29vcmQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5leHRDb29yZGluYXRpb25zLnB1c2gobmV3VGVtcEFycik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXh0Q29vcmRpbmF0aW9ucztcclxuICAgIH07XHJcbiAgICBCYXNlU2hhcGUucHJvdG90eXBlLnZhbGlkTmV4dENvb3JkaW5hdGlvbnMgPSBmdW5jdGlvbiAobmV4dENvb3Jkcykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV4dENvb3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdGVtcEFyciA9IG5leHRDb29yZHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcEFyci5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvb3JkID0gdGVtcEFycltqXTtcclxuICAgICAgICAgICAgICAgIGlmIChjb29yZC52YWx1ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvb3JkLnkgPCAwIHx8IGNvb3JkLnkgPiB0aGlzLm1hcC5jb2x1bW4gLSAxIHx8IGNvb3JkLnggPiB0aGlzLm1hcC5yb3cgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWFwLnVuaXRBcnJheVtjb29yZC54XVtjb29yZC55XSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgQmFzZVNoYXBlLkxFRlQgPSBcImxlZnRcIjtcclxuICAgIEJhc2VTaGFwZS5SSUdIVCA9IFwicmlnaHRcIjtcclxuICAgIEJhc2VTaGFwZS5ET1dOID0gXCJkb3duXCI7XHJcbiAgICBCYXNlU2hhcGUuQ0xPQ0tfV0lTRSA9IFwiY2xvY2tXaXNlXCI7XHJcbiAgICBCYXNlU2hhcGUuQU5USV9DTE9DS19XSVNFID0gXCJhbnRpQ2xvY2tXaXNlXCI7XHJcbiAgICByZXR1cm4gQmFzZVNoYXBlO1xyXG59KCkpO1xyXG5leHBvcnRzLkJhc2VTaGFwZSA9IEJhc2VTaGFwZTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9zaGFwZS9CYXNlU2hhcGUudHNcbiAqKiBtb2R1bGUgaWQgPSA0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval('"use strict";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar Coordination_1 = __webpack_require__(3);\r\nvar BaseShape_1 = __webpack_require__(4);\r\nvar AntiZShape = (function (_super) {\r\n    __extends(AntiZShape, _super);\r\n    function AntiZShape(_map) {\r\n        _super.call(this, _map, "#87CEEB", 3);\r\n        this.flag = false;\r\n    }\r\n    AntiZShape.prototype.init = function () {\r\n        var position = this.measureInitPosition();\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(0, position, 0), new Coordination_1.Coordination(0, position + 1, 1), new Coordination_1.Coordination(0, position + 2, 1)]);\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(1, position, 1), new Coordination_1.Coordination(1, position + 1, 1), new Coordination_1.Coordination(1, position + 2, 0)]);\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(2, position, 0), new Coordination_1.Coordination(2, position + 1, 0), new Coordination_1.Coordination(2, position + 2, 0)]);\r\n    };\r\n    AntiZShape.prototype.transform = function () {\r\n        if (this.flag) {\r\n            this.flag = false;\r\n            return this.antiRotate();\r\n        }\r\n        else {\r\n            this.flag = true;\r\n            return this.rotate();\r\n        }\r\n    };\r\n    return AntiZShape;\r\n}(BaseShape_1.BaseShape));\r\nexports.AntiZShape = AntiZShape;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGUvQW50aV9aX1NoYXBlLnRzPzY4N2IiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59O1xyXG52YXIgQ29vcmRpbmF0aW9uXzEgPSByZXF1aXJlKFwiLi4vY29yZS9Db29yZGluYXRpb25cIik7XHJcbnZhciBCYXNlU2hhcGVfMSA9IHJlcXVpcmUoXCIuL0Jhc2VTaGFwZVwiKTtcclxudmFyIEFudGlaU2hhcGUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEFudGlaU2hhcGUsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBBbnRpWlNoYXBlKF9tYXApIHtcclxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBfbWFwLCBcIiM4N0NFRUJcIiwgMyk7XHJcbiAgICAgICAgdGhpcy5mbGFnID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBBbnRpWlNoYXBlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMubWVhc3VyZUluaXRQb3NpdGlvbigpO1xyXG4gICAgICAgIHRoaXMua2V5Q29vcmRpbmF0aW9ucy5wdXNoKFtuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDAsIHBvc2l0aW9uLCAwKSwgbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigwLCBwb3NpdGlvbiArIDEsIDEpLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDAsIHBvc2l0aW9uICsgMiwgMSldKTtcclxuICAgICAgICB0aGlzLmtleUNvb3JkaW5hdGlvbnMucHVzaChbbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigxLCBwb3NpdGlvbiwgMSksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMSwgcG9zaXRpb24gKyAxLCAxKSwgbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigxLCBwb3NpdGlvbiArIDIsIDApXSk7XHJcbiAgICAgICAgdGhpcy5rZXlDb29yZGluYXRpb25zLnB1c2goW25ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMiwgcG9zaXRpb24sIDApLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDIsIHBvc2l0aW9uICsgMSwgMCksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMiwgcG9zaXRpb24gKyAyLCAwKV0pO1xyXG4gICAgfTtcclxuICAgIEFudGlaU2hhcGUucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5mbGFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbnRpUm90YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFudGlaU2hhcGU7XHJcbn0oQmFzZVNoYXBlXzEuQmFzZVNoYXBlKSk7XHJcbmV4cG9ydHMuQW50aVpTaGFwZSA9IEFudGlaU2hhcGU7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvc2hhcGUvQW50aV9aX1NoYXBlLnRzXG4gKiogbW9kdWxlIGlkID0gNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval('"use strict";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar Coordination_1 = __webpack_require__(3);\r\nvar BaseShape_1 = __webpack_require__(4);\r\nvar LShape = (function (_super) {\r\n    __extends(LShape, _super);\r\n    function LShape(_map) {\r\n        _super.call(this, _map, "#0000FF", 3);\r\n    }\r\n    LShape.prototype.init = function () {\r\n        var position = this.measureInitPosition();\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(0, position, 0), new Coordination_1.Coordination(0, position + 1, 1), new Coordination_1.Coordination(0, position + 2, 0)]);\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(1, position, 0), new Coordination_1.Coordination(1, position + 1, 1), new Coordination_1.Coordination(1, position + 2, 0)]);\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(2, position, 0), new Coordination_1.Coordination(2, position + 1, 1), new Coordination_1.Coordination(2, position + 2, 1)]);\r\n    };\r\n    LShape.prototype.transform = function () {\r\n        return this.rotate();\r\n    };\r\n    return LShape;\r\n}(BaseShape_1.BaseShape));\r\nexports.LShape = LShape;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGUvTF9TaGFwZS50cz8zYzEyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59O1xyXG52YXIgQ29vcmRpbmF0aW9uXzEgPSByZXF1aXJlKFwiLi4vY29yZS9Db29yZGluYXRpb25cIik7XHJcbnZhciBCYXNlU2hhcGVfMSA9IHJlcXVpcmUoXCIuL0Jhc2VTaGFwZVwiKTtcclxudmFyIExTaGFwZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoTFNoYXBlLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gTFNoYXBlKF9tYXApIHtcclxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBfbWFwLCBcIiMwMDAwRkZcIiwgMyk7XHJcbiAgICB9XHJcbiAgICBMU2hhcGUucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5tZWFzdXJlSW5pdFBvc2l0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5rZXlDb29yZGluYXRpb25zLnB1c2goW25ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMCwgcG9zaXRpb24sIDApLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDAsIHBvc2l0aW9uICsgMSwgMSksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMCwgcG9zaXRpb24gKyAyLCAwKV0pO1xyXG4gICAgICAgIHRoaXMua2V5Q29vcmRpbmF0aW9ucy5wdXNoKFtuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDEsIHBvc2l0aW9uLCAwKSwgbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigxLCBwb3NpdGlvbiArIDEsIDEpLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDEsIHBvc2l0aW9uICsgMiwgMCldKTtcclxuICAgICAgICB0aGlzLmtleUNvb3JkaW5hdGlvbnMucHVzaChbbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigyLCBwb3NpdGlvbiwgMCksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMiwgcG9zaXRpb24gKyAxLCAxKSwgbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigyLCBwb3NpdGlvbiArIDIsIDEpXSk7XHJcbiAgICB9O1xyXG4gICAgTFNoYXBlLnByb3RvdHlwZS50cmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRlKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIExTaGFwZTtcclxufShCYXNlU2hhcGVfMS5CYXNlU2hhcGUpKTtcclxuZXhwb3J0cy5MU2hhcGUgPSBMU2hhcGU7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvc2hhcGUvTF9TaGFwZS50c1xuICoqIG1vZHVsZSBpZCA9IDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){eval('"use strict";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar Coordination_1 = __webpack_require__(3);\r\nvar BaseShape_1 = __webpack_require__(4);\r\nvar Square = (function (_super) {\r\n    __extends(Square, _super);\r\n    function Square(_map) {\r\n        _super.call(this, _map, "#FF0000", 2);\r\n    }\r\n    Square.prototype.init = function () {\r\n        var position = this.measureInitPosition();\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(0, position, 1), new Coordination_1.Coordination(0, position + 1, 1)]);\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(1, position, 1), new Coordination_1.Coordination(1, position + 1, 1)]);\r\n    };\r\n    return Square;\r\n}(BaseShape_1.BaseShape));\r\nexports.Square = Square;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGUvU3F1YXJlLnRzP2E4YjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJmaWxlIjoiNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59O1xyXG52YXIgQ29vcmRpbmF0aW9uXzEgPSByZXF1aXJlKFwiLi4vY29yZS9Db29yZGluYXRpb25cIik7XHJcbnZhciBCYXNlU2hhcGVfMSA9IHJlcXVpcmUoXCIuL0Jhc2VTaGFwZVwiKTtcclxudmFyIFNxdWFyZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3F1YXJlLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3F1YXJlKF9tYXApIHtcclxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBfbWFwLCBcIiNGRjAwMDBcIiwgMik7XHJcbiAgICB9XHJcbiAgICBTcXVhcmUucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5tZWFzdXJlSW5pdFBvc2l0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5rZXlDb29yZGluYXRpb25zLnB1c2goW25ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMCwgcG9zaXRpb24sIDEpLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDAsIHBvc2l0aW9uICsgMSwgMSldKTtcclxuICAgICAgICB0aGlzLmtleUNvb3JkaW5hdGlvbnMucHVzaChbbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigxLCBwb3NpdGlvbiwgMSksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMSwgcG9zaXRpb24gKyAxLCAxKV0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTcXVhcmU7XHJcbn0oQmFzZVNoYXBlXzEuQmFzZVNoYXBlKSk7XHJcbmV4cG9ydHMuU3F1YXJlID0gU3F1YXJlO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL3NoYXBlL1NxdWFyZS50c1xuICoqIG1vZHVsZSBpZCA9IDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){eval('"use strict";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar Coordination_1 = __webpack_require__(3);\r\nvar BaseShape_1 = __webpack_require__(4);\r\nvar Strip = (function (_super) {\r\n    __extends(Strip, _super);\r\n    function Strip(_map) {\r\n        _super.call(this, _map, "#FF4500", 4);\r\n        this.flag = false;\r\n    }\r\n    Strip.prototype.init = function () {\r\n        var position = this.measureInitPosition();\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(0, position, 0), new Coordination_1.Coordination(0, position + 1, 1), new Coordination_1.Coordination(0, position + 2, 0), new Coordination_1.Coordination(0, position + 3, 0)]);\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(1, position, 0), new Coordination_1.Coordination(1, position + 1, 1), new Coordination_1.Coordination(1, position + 2, 0), new Coordination_1.Coordination(1, position + 3, 0)]);\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(2, position, 0), new Coordination_1.Coordination(2, position + 1, 1), new Coordination_1.Coordination(2, position + 2, 0), new Coordination_1.Coordination(2, position + 3, 0)]);\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(3, position, 0), new Coordination_1.Coordination(3, position + 1, 1), new Coordination_1.Coordination(3, position + 2, 0), new Coordination_1.Coordination(3, position + 3, 0)]);\r\n    };\r\n    Strip.prototype.transform = function () {\r\n        if (this.flag) {\r\n            this.flag = false;\r\n            return this.antiRotate();\r\n        }\r\n        else {\r\n            this.flag = true;\r\n            return this.rotate();\r\n        }\r\n    };\r\n    return Strip;\r\n}(BaseShape_1.BaseShape));\r\nexports.Strip = Strip;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGUvU3RyaXAudHM/NTkwZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufTtcclxudmFyIENvb3JkaW5hdGlvbl8xID0gcmVxdWlyZShcIi4uL2NvcmUvQ29vcmRpbmF0aW9uXCIpO1xyXG52YXIgQmFzZVNoYXBlXzEgPSByZXF1aXJlKFwiLi9CYXNlU2hhcGVcIik7XHJcbnZhciBTdHJpcCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3RyaXAsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdHJpcChfbWFwKSB7XHJcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgX21hcCwgXCIjRkY0NTAwXCIsIDQpO1xyXG4gICAgICAgIHRoaXMuZmxhZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgU3RyaXAucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5tZWFzdXJlSW5pdFBvc2l0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5rZXlDb29yZGluYXRpb25zLnB1c2goW25ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMCwgcG9zaXRpb24sIDApLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDAsIHBvc2l0aW9uICsgMSwgMSksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMCwgcG9zaXRpb24gKyAyLCAwKSwgbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigwLCBwb3NpdGlvbiArIDMsIDApXSk7XHJcbiAgICAgICAgdGhpcy5rZXlDb29yZGluYXRpb25zLnB1c2goW25ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMSwgcG9zaXRpb24sIDApLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDEsIHBvc2l0aW9uICsgMSwgMSksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMSwgcG9zaXRpb24gKyAyLCAwKSwgbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigxLCBwb3NpdGlvbiArIDMsIDApXSk7XHJcbiAgICAgICAgdGhpcy5rZXlDb29yZGluYXRpb25zLnB1c2goW25ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMiwgcG9zaXRpb24sIDApLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDIsIHBvc2l0aW9uICsgMSwgMSksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMiwgcG9zaXRpb24gKyAyLCAwKSwgbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigyLCBwb3NpdGlvbiArIDMsIDApXSk7XHJcbiAgICAgICAgdGhpcy5rZXlDb29yZGluYXRpb25zLnB1c2goW25ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMywgcG9zaXRpb24sIDApLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDMsIHBvc2l0aW9uICsgMSwgMSksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMywgcG9zaXRpb24gKyAyLCAwKSwgbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigzLCBwb3NpdGlvbiArIDMsIDApXSk7XHJcbiAgICB9O1xyXG4gICAgU3RyaXAucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5mbGFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbnRpUm90YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN0cmlwO1xyXG59KEJhc2VTaGFwZV8xLkJhc2VTaGFwZSkpO1xyXG5leHBvcnRzLlN0cmlwID0gU3RyaXA7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvc2hhcGUvU3RyaXAudHNcbiAqKiBtb2R1bGUgaWQgPSA4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9');
},function(module,exports,__webpack_require__){eval('"use strict";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar Coordination_1 = __webpack_require__(3);\r\nvar BaseShape_1 = __webpack_require__(4);\r\nvar TShape = (function (_super) {\r\n    __extends(TShape, _super);\r\n    function TShape(_map) {\r\n        _super.call(this, _map, "#FFFF00", 3);\r\n        this.flag = false;\r\n    }\r\n    TShape.prototype.init = function () {\r\n        var position = this.measureInitPosition();\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(0, position, 0), new Coordination_1.Coordination(0, position + 1, 1), new Coordination_1.Coordination(0, position + 2, 0)]);\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(1, position, 1), new Coordination_1.Coordination(1, position + 1, 1), new Coordination_1.Coordination(1, position + 2, 1)]);\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(2, position, 0), new Coordination_1.Coordination(2, position + 1, 0), new Coordination_1.Coordination(2, position + 2, 0)]);\r\n    };\r\n    TShape.prototype.transform = function () {\r\n        return this.rotate();\r\n    };\r\n    return TShape;\r\n}(BaseShape_1.BaseShape));\r\nexports.TShape = TShape;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGUvVF9TaGFwZS50cz80YjM4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCIsImZpbGUiOiI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn07XHJcbnZhciBDb29yZGluYXRpb25fMSA9IHJlcXVpcmUoXCIuLi9jb3JlL0Nvb3JkaW5hdGlvblwiKTtcclxudmFyIEJhc2VTaGFwZV8xID0gcmVxdWlyZShcIi4vQmFzZVNoYXBlXCIpO1xyXG52YXIgVFNoYXBlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhUU2hhcGUsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBUU2hhcGUoX21hcCkge1xyXG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIF9tYXAsIFwiI0ZGRkYwMFwiLCAzKTtcclxuICAgICAgICB0aGlzLmZsYWcgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIFRTaGFwZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLm1lYXN1cmVJbml0UG9zaXRpb24oKTtcclxuICAgICAgICB0aGlzLmtleUNvb3JkaW5hdGlvbnMucHVzaChbbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigwLCBwb3NpdGlvbiwgMCksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMCwgcG9zaXRpb24gKyAxLCAxKSwgbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigwLCBwb3NpdGlvbiArIDIsIDApXSk7XHJcbiAgICAgICAgdGhpcy5rZXlDb29yZGluYXRpb25zLnB1c2goW25ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMSwgcG9zaXRpb24sIDEpLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDEsIHBvc2l0aW9uICsgMSwgMSksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMSwgcG9zaXRpb24gKyAyLCAxKV0pO1xyXG4gICAgICAgIHRoaXMua2V5Q29vcmRpbmF0aW9ucy5wdXNoKFtuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDIsIHBvc2l0aW9uLCAwKSwgbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigyLCBwb3NpdGlvbiArIDEsIDApLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDIsIHBvc2l0aW9uICsgMiwgMCldKTtcclxuICAgIH07XHJcbiAgICBUU2hhcGUucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGUoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVFNoYXBlO1xyXG59KEJhc2VTaGFwZV8xLkJhc2VTaGFwZSkpO1xyXG5leHBvcnRzLlRTaGFwZSA9IFRTaGFwZTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9zaGFwZS9UX1NoYXBlLnRzXG4gKiogbW9kdWxlIGlkID0gOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval('"use strict";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar Coordination_1 = __webpack_require__(3);\r\nvar BaseShape_1 = __webpack_require__(4);\r\nvar ZShape = (function (_super) {\r\n    __extends(ZShape, _super);\r\n    function ZShape(_map) {\r\n        _super.call(this, _map, "#00FF00", 3);\r\n        this.flag = false;\r\n    }\r\n    ZShape.prototype.init = function () {\r\n        var position = this.measureInitPosition();\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(0, position, 1), new Coordination_1.Coordination(0, position + 1, 1), new Coordination_1.Coordination(0, position + 2, 0)]);\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(1, position, 0), new Coordination_1.Coordination(1, position + 1, 1), new Coordination_1.Coordination(1, position + 2, 1)]);\r\n        this.keyCoordinations.push([new Coordination_1.Coordination(2, position, 0), new Coordination_1.Coordination(2, position + 1, 0), new Coordination_1.Coordination(2, position + 2, 0)]);\r\n    };\r\n    ZShape.prototype.transform = function () {\r\n        if (this.flag) {\r\n            this.flag = false;\r\n            return this.antiRotate();\r\n        }\r\n        else {\r\n            this.flag = true;\r\n            return this.rotate();\r\n        }\r\n    };\r\n    return ZShape;\r\n}(BaseShape_1.BaseShape));\r\nexports.ZShape = ZShape;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGUvWl9TaGFwZS50cz9kZGU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwiZmlsZSI6IjEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn07XHJcbnZhciBDb29yZGluYXRpb25fMSA9IHJlcXVpcmUoXCIuLi9jb3JlL0Nvb3JkaW5hdGlvblwiKTtcclxudmFyIEJhc2VTaGFwZV8xID0gcmVxdWlyZShcIi4vQmFzZVNoYXBlXCIpO1xyXG52YXIgWlNoYXBlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhaU2hhcGUsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBaU2hhcGUoX21hcCkge1xyXG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIF9tYXAsIFwiIzAwRkYwMFwiLCAzKTtcclxuICAgICAgICB0aGlzLmZsYWcgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIFpTaGFwZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLm1lYXN1cmVJbml0UG9zaXRpb24oKTtcclxuICAgICAgICB0aGlzLmtleUNvb3JkaW5hdGlvbnMucHVzaChbbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigwLCBwb3NpdGlvbiwgMSksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMCwgcG9zaXRpb24gKyAxLCAxKSwgbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigwLCBwb3NpdGlvbiArIDIsIDApXSk7XHJcbiAgICAgICAgdGhpcy5rZXlDb29yZGluYXRpb25zLnB1c2goW25ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMSwgcG9zaXRpb24sIDApLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDEsIHBvc2l0aW9uICsgMSwgMSksIG5ldyBDb29yZGluYXRpb25fMS5Db29yZGluYXRpb24oMSwgcG9zaXRpb24gKyAyLCAxKV0pO1xyXG4gICAgICAgIHRoaXMua2V5Q29vcmRpbmF0aW9ucy5wdXNoKFtuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDIsIHBvc2l0aW9uLCAwKSwgbmV3IENvb3JkaW5hdGlvbl8xLkNvb3JkaW5hdGlvbigyLCBwb3NpdGlvbiArIDEsIDApLCBuZXcgQ29vcmRpbmF0aW9uXzEuQ29vcmRpbmF0aW9uKDIsIHBvc2l0aW9uICsgMiwgMCldKTtcclxuICAgIH07XHJcbiAgICBaU2hhcGUucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5mbGFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbnRpUm90YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFpTaGFwZTtcclxufShCYXNlU2hhcGVfMS5CYXNlU2hhcGUpKTtcclxuZXhwb3J0cy5aU2hhcGUgPSBaU2hhcGU7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvc2hhcGUvWl9TaGFwZS50c1xuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports){eval('"use strict";\r\nvar SquareUnit = (function () {\r\n    function SquareUnit(_x, _y, _width, _color) {\r\n        this.x = _x;\r\n        this.y = _y;\r\n        this.width = _width;\r\n        this.color = _color;\r\n    }\r\n    SquareUnit.prototype.draw = function (cx) {\r\n        if (cx) {\r\n            cx.save();\r\n            cx.fillStyle = this.color;\r\n            cx.strokeStyle = "#000000";\r\n            cx.fillRect(this.x, this.y, this.width, this.width);\r\n            cx.strokeRect(this.x, this.y, this.width, this.width);\r\n            cx.restore();\r\n        }\r\n    };\r\n    return SquareUnit;\r\n}());\r\nexports.SquareUnit = SquareUnit;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9TcXVhcmVVbml0LnRzPzZkNmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIFNxdWFyZVVuaXQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU3F1YXJlVW5pdChfeCwgX3ksIF93aWR0aCwgX2NvbG9yKSB7XHJcbiAgICAgICAgdGhpcy54ID0gX3g7XHJcbiAgICAgICAgdGhpcy55ID0gX3k7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IF93aWR0aDtcclxuICAgICAgICB0aGlzLmNvbG9yID0gX2NvbG9yO1xyXG4gICAgfVxyXG4gICAgU3F1YXJlVW5pdC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChjeCkge1xyXG4gICAgICAgIGlmIChjeCkge1xyXG4gICAgICAgICAgICBjeC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGN4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgICAgIGN4LnN0cm9rZVN0eWxlID0gXCIjMDAwMDAwXCI7XHJcbiAgICAgICAgICAgIGN4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLndpZHRoKTtcclxuICAgICAgICAgICAgY3guc3Ryb2tlUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy53aWR0aCk7XHJcbiAgICAgICAgICAgIGN4LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNxdWFyZVVuaXQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuU3F1YXJlVW5pdCA9IFNxdWFyZVVuaXQ7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvY29yZS9TcXVhcmVVbml0LnRzXG4gKiogbW9kdWxlIGlkID0gMTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){eval("\"use strict\";\r\nvar EventEmitter = (function () {\r\n    function EventEmitter() {\r\n        this.eventsPool = {};\r\n    }\r\n    EventEmitter.prototype.getEventsPool = function () {\r\n        return this.eventsPool;\r\n    };\r\n    EventEmitter.prototype.addListener = function (eventType, handler) {\r\n        if (!this.eventsPool[eventType]) {\r\n            this.eventsPool[eventType] = [];\r\n        }\r\n        this.eventsPool[eventType].push(handler);\r\n    };\r\n    EventEmitter.prototype.removeListener = function (eventType, handler) {\r\n        if (this.eventsPool[eventType]) {\r\n            for (var i = this.eventsPool[eventType].length - 1; i >= 0; i--) {\r\n                if (this.eventsPool[eventType][i] === handler) {\r\n                    this.eventsPool[eventType].splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    EventEmitter.prototype.hasListener = function (eventType) {\r\n        if (this.eventsPool[eventType] && this.eventsPool[eventType].length > 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    EventEmitter.prototype.dispatchEvent = function (event) {\r\n        if (event && event['eventType']) {\r\n            var handlers = this.eventsPool[event['eventType']];\r\n            if (handlers) {\r\n                for (var i = 0; i < handlers.length; i++) {\r\n                    handlers[i].call(this, event);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return EventEmitter;\r\n}());\r\nexports.EventEmitter = EventEmitter;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9FdmVudEVtaXR0ZXIudHM/Y2VlYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxRQUFRO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscUJBQXFCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgRXZlbnRFbWl0dGVyID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcclxuICAgICAgICB0aGlzLmV2ZW50c1Bvb2wgPSB7fTtcclxuICAgIH1cclxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0RXZlbnRzUG9vbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ldmVudHNQb29sO1xyXG4gICAgfTtcclxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnRUeXBlLCBoYW5kbGVyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50c1Bvb2xbZXZlbnRUeXBlXSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50c1Bvb2xbZXZlbnRUeXBlXSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmV2ZW50c1Bvb2xbZXZlbnRUeXBlXS5wdXNoKGhhbmRsZXIpO1xyXG4gICAgfTtcclxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnRUeXBlLCBoYW5kbGVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzUG9vbFtldmVudFR5cGVdKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmV2ZW50c1Bvb2xbZXZlbnRUeXBlXS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZXZlbnRzUG9vbFtldmVudFR5cGVdW2ldID09PSBoYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHNQb29sW2V2ZW50VHlwZV0uc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnRUeXBlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzUG9vbFtldmVudFR5cGVdICYmIHRoaXMuZXZlbnRzUG9vbFtldmVudFR5cGVdLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQgJiYgZXZlbnRbJ2V2ZW50VHlwZSddKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuZXZlbnRzUG9vbFtldmVudFsnZXZlbnRUeXBlJ11dO1xyXG4gICAgICAgICAgICBpZiAoaGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyc1tpXS5jYWxsKHRoaXMsIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9jb3JlL0V2ZW50RW1pdHRlci50c1xuICoqIG1vZHVsZSBpZCA9IDEyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval('"use strict";\r\nvar UnitMap = (function () {\r\n    function UnitMap(_row, _column) {\r\n        this.row = _row;\r\n        this.column = _column;\r\n        this.unitArray = [];\r\n    }\r\n    UnitMap.prototype.createMap = function () {\r\n        this.initMap(false);\r\n    };\r\n    UnitMap.prototype.createRandomMap = function () {\r\n        this.initMap(true);\r\n    };\r\n    UnitMap.prototype.initMap = function (isRandom) {\r\n        var twoArray = [];\r\n        for (var i = 0; i < this.row; i++) {\r\n            var tempArr = [];\r\n            for (var j = 0; j < this.column; j++) {\r\n                var status = 0;\r\n                if (isRandom) {\r\n                    status = Math.round(Math.random());\r\n                }\r\n                tempArr.push(status);\r\n            }\r\n            twoArray.push(tempArr);\r\n        }\r\n        this.unitArray = twoArray;\r\n    };\r\n    return UnitMap;\r\n}());\r\nexports.UnitMap = UnitMap;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9Vbml0TWFwLnRzP2E0YjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGNBQWM7QUFDckM7QUFDQSwyQkFBMkIsaUJBQWlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIFVuaXRNYXAgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVW5pdE1hcChfcm93LCBfY29sdW1uKSB7XHJcbiAgICAgICAgdGhpcy5yb3cgPSBfcm93O1xyXG4gICAgICAgIHRoaXMuY29sdW1uID0gX2NvbHVtbjtcclxuICAgICAgICB0aGlzLnVuaXRBcnJheSA9IFtdO1xyXG4gICAgfVxyXG4gICAgVW5pdE1hcC5wcm90b3R5cGUuY3JlYXRlTWFwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdE1hcChmYWxzZSk7XHJcbiAgICB9O1xyXG4gICAgVW5pdE1hcC5wcm90b3R5cGUuY3JlYXRlUmFuZG9tTWFwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdE1hcCh0cnVlKTtcclxuICAgIH07XHJcbiAgICBVbml0TWFwLnByb3RvdHlwZS5pbml0TWFwID0gZnVuY3Rpb24gKGlzUmFuZG9tKSB7XHJcbiAgICAgICAgdmFyIHR3b0FycmF5ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvdzsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wQXJyID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5jb2x1bW47IGorKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXR1cyA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSYW5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGVtcEFyci5wdXNoKHN0YXR1cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHdvQXJyYXkucHVzaCh0ZW1wQXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51bml0QXJyYXkgPSB0d29BcnJheTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVW5pdE1hcDtcclxufSgpKTtcclxuZXhwb3J0cy5Vbml0TWFwID0gVW5pdE1hcDtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9jb3JlL1VuaXRNYXAudHNcbiAqKiBtb2R1bGUgaWQgPSAxM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports){eval('"use strict";\r\nvar CommonUtil = (function () {\r\n    function CommonUtil() {\r\n    }\r\n    CommonUtil.removeUnit = function (value, unit) {\r\n        if (value && unit) {\r\n            return parseFloat(value.split(unit)[0]);\r\n        }\r\n        return undefined;\r\n    };\r\n    return CommonUtil;\r\n}());\r\nexports.CommonUtil = CommonUtil;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC9Db21tb25VdGlsLnRzPzYxOTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCIsImZpbGUiOiIxNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgQ29tbW9uVXRpbCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb21tb25VdGlsKCkge1xyXG4gICAgfVxyXG4gICAgQ29tbW9uVXRpbC5yZW1vdmVVbml0ID0gZnVuY3Rpb24gKHZhbHVlLCB1bml0KSB7XHJcbiAgICAgICAgaWYgKHZhbHVlICYmIHVuaXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUuc3BsaXQodW5pdClbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDb21tb25VdGlsO1xyXG59KCkpO1xyXG5leHBvcnRzLkNvbW1vblV0aWwgPSBDb21tb25VdGlsO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL3V0aWwvQ29tbW9uVXRpbC50c1xuICoqIG1vZHVsZSBpZCA9IDE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9')}])});